<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIAO Liga de Inteligência Artificial e Otimização</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        html {
            scroll-behavior: smooth;
        }
        @property --rotate {
          syntax: "<angle>";
          initial-value: 132deg;
          inherits: false;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6; /* Tailwind gray-100 */
            position: relative;
        }

        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 350px;
            width: 100%;
        }
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-lg */
            padding: 1.5rem; /* p-6 */
            margin-bottom: 1.5rem; /* mb-6 */
        }

        /* --- New Navigation Bar Styles --- */
        .navigation-wrapper {
            position: sticky;
            top: 0;
            z-index: 50;
            background-color: #ffffff;
            box-shadow: 0 2px 4px -1px rgba(0,0,0,0.1);
        }
        .navigation {
            position: relative;
            max-width: 900px;
            margin: auto;
        }
        .navigation-list {
            display: none;
        }
        @media (min-width: 768px) {
            .navigation-list {
                display: flex;
                flex-grow: 1; /* Added to allow proper spacing */
                justify-content: space-around;
                padding: 0.5rem 0;
                margin: 0;
                list-style: none;
            }
        }
        .navigation-list li a {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0.5rem;
            color: #4b5563;
            text-decoration: none;
            transition: color 0.3s;
            position: relative;
        }
        .navigation-list li a .icon {
            font-size: 1.5rem;
            margin-bottom: 0.25rem;
            transition: transform 0.3s ease, color 0.3s ease;
        }
        .navigation-list li a .text {
            font-size: 0.75rem;
            font-weight: 500;
            transition: opacity 0.3s ease;
        }
        .navigation-list li.active a {
            color: #4f46e5;
        }
        .navigation-list li.active a .icon {
           transform: translateY(-4px);
        }

        /* --- Updated Mobile Menu Style --- */
        #mobile-menu {
            position: absolute; /* Changed to be relative to the navbar */
            top: 100%; /* Position it right below the navbar */
            left: 0;
            right: 0;
            z-index: 40; /* Stays below the navbar */
            overflow-y: auto;
            max-height: calc(100vh - 64px); /* Fallback max-height (64px is h-16) */
        }

        h2 {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
            color: #1f2937; /* text-gray-800 */
            margin-bottom: 1rem;
        }
        h3 {
            font-size: 1.25rem; /* text-xl */
            font-weight: 600; /* font-semibold */
            color: #374151; /* text-gray-700 */
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }

        .header-logo {
            height: 50px;
            width: auto;
            max-width: 150px;
            margin-right: 1rem;
            border-radius: 0.375rem;
        }
        .video-responsive-container {
            position: relative;
            overflow: hidden;
            width: 100%;
            padding-top: 56.25%;
            background-color: #000;
            border-radius: 0.5rem;
        }
        .video-responsive-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
        /* Removidos estilos específicos de #conteudoProposta */
        .aviso-card {
            background-color: #eef2ff;
            border-left: 4px solid #4f46e5;
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 0.375rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        .aviso-card h3 {
            color: #3730a3;
            margin-top: 0;
        }
        .aviso-card .aviso-data {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        /* Estilos para a página de Membros Fundadores */
        .director-card {
            background-color: #191c29;
            padding: 3px;
            position: relative;
            border-radius: 0.75rem;
            text-align: center;
            transition: transform 0.3s ease;
            display: flex;
            height: 100%;
        }

        .director-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .director-card::before {
          content: "";
          width: 104%;
          height: 102%;
          border-radius: 8px;
          background-image: linear-gradient(
            var(--rotate)
            , #5ddcff, #3c67e3 43%, #4e00c2);
            position: absolute;
            z-index: -1;
            top: -1%;
            left: -2%;
            animation: spin 2.5s linear infinite;
        }

        .director-card::after {
          position: absolute;
          content: "";
          top: 0;
          left: 0;
          right: 0;
          z-index: -2;
          height: 100%;
          width: 100%;
          margin: 0 auto;
          transform: scale(0.85);
          filter: blur(25px);
          background-image: linear-gradient(
            var(--rotate)
            , #5ddcff, #3c67e3 43%, #4e00c2);
            opacity: 0;
          transition: opacity .5s;
          animation: spin 2.5s linear infinite;
        }

        .director-card:hover:before, .director-card:hover:after {
          animation: none;
          opacity: 1;
        }

        @keyframes spin {
          0% {
            --rotate: 0deg;
          }
          100% {
            --rotate: 360deg;
          }
        }

        .director-card-inner {
            background-color: white;
            padding: 2rem;
            border-radius: calc(0.75rem - 3px);
            width: 100%;
            display: flex;
            flex-direction: column;
        }

        .director-info {
            flex-grow: 1;
        }

        .director-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 1.5rem;
            background-color: #eef2ff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: #4f46e5;
            font-weight: bold;
            border: 4px solid white;
            box-shadow: 0 0 0 4px #4f46e5;
            overflow: hidden;
        }
        .director-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .director-name {
            font-size: 1.25rem;
            font-weight: 700;
            color: #111827;
        }
        .director-title {
            font-size: 1rem;
            font-weight: 500;
            color: #4f46e5;
            margin-bottom: 1.5rem;
        }
        .director-button { /* Estilo unificado para botões de diretor */
            display: inline-block;
            background-color: #4f46e5;
            color: white;
            padding: 0.625rem 1.25rem;
            border-radius: 9999px;
            font-weight: 500;
            text-decoration: none;
            transition: background-color 0.3s;
            margin-top: auto; /* Pushes button to bottom */
            cursor: pointer;
        }
        .director-button:hover {
            background-color: #4338ca;
        }
         .director-button.disabled { /* Estilo para botão desabilitado, se necessário */
             opacity: 0.5;
             cursor: not-allowed;
         }
        .founder-list-card {
            background-color: #f9fafb;
            border-radius: 0.75rem;
            padding: 1.5rem;
        }

        .founder-item {
            background-color: white;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            display: flex;
            align-items: center;
            color: #374151;
            font-weight: 500;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .founder-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }
        .founder-item-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 1rem;
            background-color: #eef2ff;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4f46e5;
            font-weight: bold;
            overflow: hidden;
            flex-shrink: 0;
        }
        .founder-item-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Estilos do Modal (Unificado para Founder e Director) */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            padding: 1rem; /* Adiciona padding para evitar que o modal toque as bordas */
        }
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            width: 100%; /* Ajusta a largura para ser responsiva */
            max-width: 500px; /* Aumenta a largura máxima */
            text-align: center;
            transform: scale(0.95);
            transition: transform 0.3s ease;
            position: relative;
            max-height: 90vh; /* Limita a altura máxima */
            overflow-y: auto; /* Adiciona scroll se necessário */
        }
        .modal-overlay.active .modal-content {
            transform: scale(1);
        }
        /* Estilo para o conteúdo 'Sobre' no modal */
        #modalAboutContent {
            margin-top: 1rem;
            text-align: left; /* Alinha o texto à esquerda para melhor leitura */
            color: #374151; /* text-gray-700 */
            line-height: 1.6; /* Melhora a legibilidade */
        }
        #modalAboutContent p {
             margin-bottom: 0.75rem;
        }
         #modalAboutContent h4 {
             font-weight: 600;
             color: #4f46e5; /* Cor indigo */
             margin-top: 1rem;
             margin-bottom: 0.5rem;
         }

        .stat-card-link {
            display: block;
            text-decoration: none;
            color: inherit;
            border-radius: 0.5rem; /* rounded-lg */
            transition: background-color 0.2s ease-in-out;
        }
        .stat-card-link:hover {
            background-color: rgba(0,0,0,0.04);
        }

        /* Estilos para cards de tutores */
        .tutor-card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 1.5rem;
            text-align: center;
        }
        .tutor-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 0 auto 1rem;
            background-color: #eef2ff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: #4f46e5;
            font-weight: bold;
            overflow: hidden;
        }
         .tutor-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .tutor-name {
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
        }
        .tutor-email {
            font-size: 0.875rem;
            color: #6b7280;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .tutor-area {
            font-size: 0.875rem;
            color: #374151;
            background-color: #f3f4f6;
            padding: 0.75rem;
            border-radius: 0.375rem;
        }
        .tutor-area strong {
            color: #4f46e5;
            font-weight: 600;
        }
        .carousel-container {
            position: relative;
        }

        .carousel-wrapper {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }
        .carousel-slide {
            flex-shrink: 0;
            box-sizing: border-box;
        }

        @media (max-width: 767px) {
            /* Ajuste para o carrossel de fundadores mostrar 3 itens empilhados por slide */
            .founder-list-card .carousel-slide {
                width: 100%; /* Cada slide ocupa toda a largura */
                padding: 0 4px;
                /* justify-content: center; */ /* Centraliza os itens verticalmente se houver espaço extra */
            }
             .founder-item.mb-4.w-\[263px\]{
                 width: 100%; /* Faz cada item ocupar a largura do slide */
                 max-width: 280px; /* Limita a largura máxima para melhor aparência */
                 margin-left: auto;
                 margin-right: auto;
             }
             #directors-container .carousel-slide {
                width: 100%;
                padding: 0 8px;
            }
        }
        /* --- FOOTER STYLES --- */
        footer {
            position: relative;
            color: white;
            text-align: center;
            margin-top: 3rem; /* mt-12 */
        }
        .footer-background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            z-index: -1;
        }
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            min-height: 120px; /* Adjust as needed */
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-900">
<header class="shadow-md" id="page-header">
    <img src="https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/586cc1f10967f8dc5cc338aaba01ea1ff3cded74/img/banner_liao.png" alt="Banner LIAO" class="w-full h-auto block">
</header>

<!-- UPDATED NAVIGATION -->
<nav class="navigation-wrapper">
    <!-- Desktop Navigation -->
    <div class="hidden md:flex items-center navigation">
        <img src="https://raw.githubusercontent.com/Deivisnan/imagens_site/main/logo.jpg" alt="Logo LIAO" class="h-10 w-auto mr-auto cursor-pointer" onclick="showPage('dashboard')" onerror="this.onerror=null; this.src='https://placehold.co/150x50/indigo/white?text=LIAO';">
        <ul class="navigation-list">
            <li class="list active">
                <a href="#!" onclick="event.preventDefault(); showPage('dashboard')"><span class="icon"><i class="fas fa-tachometer-alt"></i></span><span class="text">Dashboard</span></a>
            </li>
            <li class="list">
                <a href="#!" onclick="event.preventDefault(); showPage('membrosFundadores')"><span class="icon"><i class="fas fa-users"></i></span><span class="text">Membros</span></a>
            </li>
            <li class="list">
                <a href="#!" onclick="event.preventDefault(); showPage('prossel')"><span class="icon"><i class="fas fa-tasks"></i></span><span class="text">ProSel</span></a>
            </li>
            <li class="list">
                <a href="#!" onclick="event.preventDefault(); showPage('tutores')"><span class="icon"><i class="fas fa-chalkboard-teacher"></i></span><span class="text">Tutores</span></a>
            </li>
            <li class="list">
                <a href="#!" onclick="event.preventDefault(); showPage('faq')"><span class="icon"><i class="fas fa-question-circle"></i></span><span class="text">FAQ</span></a>
            </li>
             <li class="list">
                <a href="#!" onclick="event.preventDefault(); showPage('avisosLiga')"><span class="icon"><i class="fas fa-bullhorn"></i></span><span class="text">Avisos</span></a>
            </li>
            <li class="list">
                 <a href="#!" onclick="event.preventDefault(); showPage('videoApresentacao')"><span class="icon"><i class="fas fa-video"></i></span><span class="text">Vídeo</span></a>
            </li>
             <li class="list">
                <a href="https://www.instagram.com/liaoufba?utm_source=ig_web_button_share_sheet&igsh=MW56MHh6YWF4ZnF5bQ==" target="_blank" class="text-gray-400 hover:text-indigo-600 p-2 rounded-full">
                    <span class="icon"><i class="fab fa-instagram"></i></span>
                    <span class="text">Instagram</span>
                </a>
            </li>
        </ul>
    </div>
    <!-- Mobile Navigation -->
    <div class="md:hidden flex justify-between items-center w-full px-4 h-16">
        <img src="https://raw.githubusercontent.com/Deivisnan/imagens_site/main/logo.jpg" alt="Logo LIAO" class="h-10 w-auto cursor-pointer" onclick="showPage('dashboard')" onerror="this.onerror=null; this.src='https://placehold.co/150x50/indigo/white?text=LIAO';">
        <button id="mobile-menu-button" class="p-2 rounded-md text-gray-600">
            <i id="menu-icon" class="fas fa-bars fa-lg"></i>
        </button>
    </div>
    <!-- MOBILE MENU MOVED INSIDE THE NAV WRAPPER -->
    <div id="mobile-menu" class="hidden md:hidden bg-white shadow-lg w-full">
        <div class="px-2 pt-2 pb-3 space-y-1">
            <a href="#!" class="nav-button block w-full text-left flex items-center gap-2" onclick="event.preventDefault(); showPage('dashboard'); closeMenu();"><i class="fas fa-tachometer-alt w-6 text-center"></i> Dashboard</a>
            <a href="#!" class="nav-button block w-full text-left flex items-center gap-2" onclick="event.preventDefault(); showPage('membrosFundadores'); closeMenu();"><i class="fas fa-users w-6 text-center"></i> Diretoria e Membros</a>
            <a href="#!" class="nav-button block w-full text-left flex items-center gap-2" onclick="event.preventDefault(); showPage('prossel'); closeMenu();"><i class="fas fa-tasks w-6 text-center"></i> ProSel</a>
            <a href="#!" class="nav-button block w-full text-left flex items-center gap-2" onclick="event.preventDefault(); showPage('tutores'); closeMenu();"><i class="fas fa-chalkboard-teacher w-6 text-center"></i> Tutores</a>
            <a href="#!" class="nav-button block w-full text-left flex items-center gap-2" onclick="event.preventDefault(); showPage('faq'); closeMenu();"><i class="fas fa-question-circle w-6 text-center"></i> FAQ</a>
            <a href="#!" class="nav-button block w-full text-left flex items-center gap-2" onclick="event.preventDefault(); showPage('avisosLiga'); closeMenu();"><i class="fas fa-bullhorn w-6 text-center"></i> Avisos</a>
            <a href="#!" class="nav-button block w-full text-left flex items-center gap-2" onclick="event.preventDefault(); showPage('videoApresentacao'); closeMenu();"><i class="fas fa-video w-6 text-center"></i> Vídeo</a>
            <a href="https://www.instagram.com/liaoufba?utm_source=ig_web_button_share_sheet&igsh=MW56MHh6YWF4ZnF5bQ==" target="_blank" class="nav-button block w-full text-left flex items-center gap-2">
               <i class="fab fa-instagram w-6 text-center"></i> Instagram
            </a>
        </div>
    </div>
</nav>


<main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">

    <section id="dashboard" class="content-section active">
        <div class="card">
            <h2>Dashboard da Liga</h2>
            <p class="text-gray-600 mb-6">Visão geral e interativa sobre os membros da LIAO.</p>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                <div class="card">
                    <h3>Distribuição de Membros por Curso</h3>
                    <div class="chart-container">
                        <canvas id="cursosMembrosChart"></canvas>
                    </div>
                </div>
                <div class="card">
                    <h3>Distribuição de Gênero</h3>
                    <div class="chart-container">
                        <canvas id="generoMembrosChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>Estrutura da Diretoria</h3>
                <p class="text-gray-500 text-sm mb-4">Esta é a estrutura de cargos da diretoria atual.</p>
                <div class="chart-container" style="height: 400px;">
                    <canvas id="membrosPorDiretoriaChart"></canvas>
                </div>
            </div>

            <div class="card mt-8">
                <h3>Estatísticas Rápidas</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-center">
                    <a href="#!" onclick="event.preventDefault(); showPage('membrosFundadores');" class="stat-card-link bg-indigo-100 p-4 shadow rounded-lg">
                        <p class="text-3xl font-bold text-indigo-600" id="totalMembros">0</p>
                        <p class="text-gray-700">Total de Membros</p>
                    </a>
                    <a href="#!" onclick="event.preventDefault(); showPage('tutores');" class="stat-card-link bg-green-100 p-4 shadow rounded-lg">
                        <p class="text-3xl font-bold text-green-600" id="totalTutoresInteressados">0</p>
                        <p class="text-gray-700">Tutores Interessados</p>
                    </a>
                    <a href="#!" onclick="event.preventDefault(); showPage('faq');" class="stat-card-link bg-purple-100 p-4 shadow rounded-lg">
                        <p class="text-3xl font-bold text-purple-600" id="totalPerguntasFrequentes">0</p>
                        <p class="text-gray-700">Dúvidas Frequentes</p>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <section id="membrosFundadores" class="content-section">
        <button class="back-button mb-6 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg inline-flex items-center gap-2" onclick="goBack()">
            <i class="fas fa-arrow-left"></i>
            <span>Voltar</span>
        </button>
        <!-- Wrapper for dynamic content -->
        <div id="membros-content-wrapper"></div>
    </section>

    <section id="prossel" class="content-section">
        <button class="back-button mb-6 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg inline-flex items-center gap-2" onclick="goBack()">
            <i class="fas fa-arrow-left"></i>
            <span>Voltar</span>
        </button>
        <div class="card">
            <h2>Processo Seletivo (ProSel)</h2>
            <p class="text-gray-600 mb-6">Em breve, informações sobre o processo seletivo da LIAO.</p>
            <div class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-md">
                <p class="text-blue-800">Fique atento! As informações sobre novas vagas e como participar serão divulgadas aqui e em nossos canais oficiais.</p>
            </div>
        </div>
    </section>

    <section id="tutores" class="content-section">
        <button class="back-button mb-6 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg inline-flex items-center gap-2" onclick="goBack()">
            <i class="fas fa-arrow-left"></i>
            <span>Voltar</span>
        </button>
        <!-- Wrapper for dynamic content -->
        <div id="tutores-content-wrapper"></div>
    </section>

    <section id="faq" class="content-section">
        <button class="back-button mb-6 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg inline-flex items-center gap-2" onclick="goBack()">
            <i class="fas fa-arrow-left"></i>
            <span>Voltar</span>
        </button>
        <div class="card">
            <h2>Dúvidas Frequentes sobre a Liga</h2>
            <div id="faqContent" class="space-y-6">
                <!-- Conteúdo FAQ será populado via JS -->
            </div>
        </div>
    </section>

    <section id="avisosLiga" class="content-section">
        <button class="back-button mb-6 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg inline-flex items-center gap-2" onclick="goBack()">
            <i class="fas fa-arrow-left"></i>
            <span>Voltar</span>
        </button>
        <div class="card">
            <h2>Avisos Importantes da LIAO</h2>
            <p class="text-gray-600 mb-6">Fique por dentro das últimas novidades, decisões e comunicados da liga.</p>
            <div id="avisosLigaContent" class="space-y-4">
                 <!-- Conteúdo Avisos será populado via JS -->
            </div>
        </div>
    </section>

    <section id="videoApresentacao" class="content-section">
        <button class="back-button mb-6 bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg inline-flex items-center gap-2" onclick="goBack()">
            <i class="fas fa-arrow-left"></i>
            <span>Voltar</span>
        </button>
        <div class="card">
            <h2>Vídeo de Apresentação</h2>
            <p class="text-gray-600 mb-4">Confira o vídeo de apresentação da LIAO.</p>
            <div class="mx-auto max-w-3xl">
                <div class="video-responsive-container">
                    <iframe
                            src="https://www.youtube.com/embed/VwSeAm-9Vgg?si=4Lns3BzbHrRjr-AB"
                            title="YouTube video player"
                            frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            referrerpolicy="strict-origin-when-cross-origin"
                            allowfullscreen>
                    </iframe>
                </div>
            </div>
        </div>
    </section>

    <!-- Seção PaginaProposta removida -->

</main>

<!-- FOOTER UPDATED FOR RESPONSIVENESS -->
<footer>
    <img src="https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/184691ece4766607441bbb8a519b67b96fff9a45/img/footer_liao.png" alt="Footer LIAO" class="footer-background">
    <div class="footer-content">
        <p class="text-sm md:text-base mb-2">© <span id="currentYear"></span> Liga Acadêmica. Todos os direitos reservados.</p>
        <div>
            <a href="https://www.instagram.com/liaoufba?utm_source=ig_web_button_share_sheet&igsh=MW56MHh6YWF4ZnF5bQ==" target="_blank" class="inline-block text-white hover:text-gray-300 transition-colors duration-300">
                <i class="fab fa-instagram fa-2x"></i>
                <span class="sr-only">Instagram</span>
            </a>
        </div>
    </div>
</footer>

<!-- Modal para detalhes do Membro Fundador -->
<div id="founderModal" class="modal-overlay" onclick="hideFounderDetails()">
    <div class="modal-content relative" onclick="event.stopPropagation()">
        <button onclick="hideFounderDetails()" class="absolute top-2 right-2 text-gray-500 hover:text-gray-800 text-2xl px-2">&times;</button>
        <div id="modalFounderAvatar" class="director-avatar mx-auto mb-4" style="width: 150px; height: 150px;"></div>
        <h3 id="modalFounderName" class="text-2xl font-bold text-gray-900"></h3>
        <p id="modalFounderCourse" class="text-md text-indigo-600 font-medium"></p>
    </div>
</div>

<!-- Modal para 'Sobre' o Diretor -->
<div id="directorAboutModal" class="modal-overlay" onclick="hideDirectorAbout()">
    <div class="modal-content relative" onclick="event.stopPropagation()">
        <button onclick="hideDirectorAbout()" class="absolute top-2 right-2 text-gray-500 hover:text-gray-800 text-2xl px-2">&times;</button>
        <div id="modalDirectorAvatar" class="director-avatar mx-auto mb-4" style="width: 150px; height: 150px;"></div>
        <h3 id="modalDirectorName" class="text-2xl font-bold text-gray-900"></h3>
        <p id="modalDirectorCargo" class="text-md text-indigo-600 font-medium mb-4"></p>
        <div id="modalAboutContent" class="text-sm text-gray-700 leading-relaxed">
            <!-- Conteúdo 'Sobre' será inserido aqui -->
        </div>
    </div>
</div>

<script>
    // --- DADOS DO SITE ---
    // Removida a função generatePropostaId

    const dadosMembros = [
        // Mantidos
        { nome: "Yuri Freitas Hughes", curso: "Ciência da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/908b4952aac861544264708280db41ecba067bd6/Liao_membros/yuri%20hughes.jpg" },
        { nome: "DEIVISNAN DA SILVA BISPO", curso: "Sistemas de Informação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/f0f1fb1dcfaf7e881cd11f35d6882de77058efaf/Liao_membros/deivisnan.jpg" },
        { nome: "Thales Brito Rodrigues", curso: "Ciência da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/f0f1fb1dcfaf7e881cd11f35d6882de77058efaf/Liao_membros/thales.jpg" },
        { nome: "Danielle Santos de Souza", curso: "Ciência da Computação", genero: "Feminino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/e9105c3766c17ba2d0bc9f25e60604b7bb52f223/Liao_membros/danielle.jpg" },
        { nome: "Beatriz Pereira Espinheira", curso: "Ciência da Computação", genero: "Feminino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/7d0dfea764e02c820fa20186c23b68aae03b763b/Liao_membros/beatriz.png" },
        { nome: "Paulo Ferreira de Castro Filho", curso: "Ciência da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/f0f1fb1dcfaf7e881cd11f35d6882de77058efaf/Liao_membros/paulo.jpg" },
        { nome: "Priscila Conceição Araújo", curso: "Ciência da Computação", genero: "Feminino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/f0f1fb1dcfaf7e881cd11f35d6882de77058efaf/Liao_membros/priscila.jpg" },
        { nome: "Lucca Oliveira Seixas", curso: "Ciência da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/lucca%20seixas.png" },
        { nome: "Jaedson Barbosa Macedo", curso: "Ciência da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/e9105c3766c17ba2d0bc9f25e60604b7bb52f223/Liao_membros/jaedson%20perfil%20.png" },
        { nome: "José Henrique do Espírito Santo Santana", curso: "Engenharia da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/be25860a34aeccc60b65c5c0165552d873f1e5da/Liao_membros/jos%C3%A9_henrrique.jpg" },
        { nome: "Laura Ferreira", curso: "Ciência da Computação", genero: "Feminino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/laura_perfil%20.png" },
        { nome: "Ulysses", curso: "Ciência e Tecnologia", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/ulisses.jpg" },
        { nome: "Djair Maykon de Novaes Miranda", curso: "Ciência da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/djair.jpg" },
        { nome: "Tarcisio de Assis Pereira Brito", curso: "Ciência da Computação", genero: "Masculino" ,img:"https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/4797004c77383a6d598af6a72fcce8454b2edac8/Liao_membros/tarcisio_perfil.jpg"},
        { nome: "Eduarda Almeida", curso: "Licenciatura da Computação", genero: "Feminino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/eduarda%20almeida.jpg" },
        // Adicionados e Atualizados
        { nome: "Ícaro Iêne da Silva Dias", curso: "Ciência da Computação", genero: "Masculino", img: null }, // Curso atualizado
        { nome: "Malu Pinto de Brito", curso: "Ciência da Computação", genero: "Feminino", img: null } // Curso atualizado
    ];

    // Removidas propriedades propostaId e propostaTexto
    const dadosInteressadosDiretoria = [
        { nome: "DEIVISNAN DA SILVA BISPO", email: "Bispodeivisnan@gmail.com", curso: "Sistemas de Informação", diretorias: ["Direção Geral", "Direção Acadêmica"] },
        { nome: "Priscila Conceição Araújo", email: "priscila.araujossa@gmail.com", curso: "Ciência da Computação", diretorias: ["Coordenação Acadêmica", "Coordenação Científica"] },
        { nome: "Paulo Ferreira de Castro Filho", email: "paulocastro@ufba.br", curso: "Ciência da Computação", diretorias: ["Secretaria Geral", "Coordenação Acadêmica", "Coordenação Científica"] },
        { nome: "Danilo Santiago Fonseca", email: "danilofonseca@ufba.br", curso: "Ciência da Computação", diretorias: ["Coordenação Acadêmica", "Coordenação Científico"] },
        { nome: "Danielle Santos de Souza", email: "souza.danielle@ufba.br", curso: "Ciência da Computação", diretorias: ["Direção Geral", "Relações Públicas", "Secretaria Geral"] },
        { nome: "Yuri Freitas Hughes", email: "yuri.hughes@ufba.br", curso: "Ciência da Computação", diretorias: ["Direção Geral"] },
        { nome: "Beatriz Pereira Espinheira", email: "espinheira.beatriz@ufba.br", curso: "Ciência da Computação", diretorias: ["Direção de Extensão"] },
        { nome: "Djair Maykon de Novaes Miranda", email: "djair.maykon@ufba.br", curso: "Ciência da Computação", diretorias: ["Coordenação Acadêmica", "Coordenação Científico"] },
        { nome: "Thales Brito Rodrigues", email: "thalesbr@ufba.br", curso: "Ciência da Computação", diretorias: ["Secretaria Geral"] }
    ];

    // Diretoria atualizada com placeholder 'sobre'
    const dadosDiretoriaAprovada = [
        { nome: "Priscila Conceição Araújo", cargo: "Diretora Geral", sobre: "<p>Informações sobre Priscila e suas atribuições como Diretora Geral.</p><h4>Curiosidades:</h4><p>Adicione aqui alguma curiosidade ou fato interessante sobre Priscila.</p>" },
        { nome: "DEIVISNAN DA SILVA BISPO", cargo: "Vice-diretor Geral", sobre: "<p>Informações sobre Deivisnan e suas atribuições como Vice-Diretor Geral.</p><h4>Curiosidades:</h4><p>Adicione aqui alguma curiosidade ou fato interessante sobre Deivisnan.</p>" },
        { nome: "Eduarda Almeida", cargo: "Diretora secretaria", sobre: "<p>Informações sobre Eduarda e suas atribuições como Secretária.</p><h4>Curiosidades:</h4><p>Adicione aqui alguma curiosidade ou fato interessante sobre Eduarda.</p>" },
        { nome: "Danielle Santos de Souza", cargo: "Relações Externas", sobre: "<p>Informações sobre Danielle e suas atribuições em Relações Externas.</p><h4>Curiosidades:</h4><p>Adicione aqui alguma curiosidade ou fato interessante sobre Danielle.</p>" },
        { nome: "Beatriz Pereira Espinheira", cargo: "Coordenação Acadêmica", sobre: "<p>Informações sobre Beatriz e suas atribuições na Coordenação Acadêmica.</p><h4>Curiosidades:</h4><p>Adicione aqui alguma curiosidade ou fato interessante sobre Beatriz.</p>" },
        { nome: "Paulo Ferreira de Castro Filho", cargo: "Coordenação Científica", sobre: "<p>Informações sobre Paulo e suas atribuições na Coordenação Científica.</p><h4>Curiosidades:</h4><p>Adicione aqui alguma curiosidade ou fato interessante sobre Paulo.</p>" },
        { nome: "Laura Ferreira", cargo: "Coordenação de Extensão", sobre: "<p>Informações sobre Laura e suas atribuições na Coordenação de Extensão.</p><h4>Curiosidades:</h4><p>Adicione aqui alguma curiosidade ou fato interessante sobre Laura.</p>" }
    ];

    const dadosMembrosFundadores = [
        // Mantidos
        { nome: "Yuri Freitas Hughes", curso: "Ciência da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/908b4952aac861544264708280db41ecba067bd6/Liao_membros/yuri%20hughes.jpg" },
        { nome: "DEIVISNAN DA SILVA BISPO", curso: "Sistemas de Informação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/f0f1fb1dcfaf7e881cd11f35d6882de77058efaf/Liao_membros/deivisnan.jpg" },
        { nome: "Thales Brito Rodrigues", curso: "Ciência da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/f0f1fb1dcfaf7e881cd11f35d6882de77058efaf/Liao_membros/thales.jpg" },
        { nome: "Danielle Santos de Souza", curso: "Ciência da Computação", genero: "Feminino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/e9105c3766c17ba2d0bc9f25e60604b7bb52f223/Liao_membros/danielle.jpg" },
        { nome: "Beatriz Pereira Espinheira", curso: "Ciência da Computação", genero: "Feminino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/7d0dfea764e02c820fa20186c23b68aae03b763b/Liao_membros/beatriz.png" },
        { nome: "Paulo Ferreira de Castro Filho", curso: "Ciência da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/f0f1fb1dcfaf7e881cd11f35d6882de77058efaf/Liao_membros/paulo.jpg" },
        { nome: "Priscila Conceição Araújo", curso: "Ciência da Computação", genero: "Feminino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/f0f1fb1dcfaf7e881cd11f35d6882de77058efaf/Liao_membros/priscila.jpg" },
        { nome: "Lucca Oliveira Seixas", curso: "Ciência da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/lucca%20seixas.png" },
        { nome: "Jaedson Barbosa Macedo", curso: "Ciência da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/e9105c3766c17ba2d0bc9f25e60604b7bb52f223/Liao_membros/jaedson%20perfil%20.png" },
        { nome: "José Henrique do Espírito Santo Santana", curso: "Engenharia da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/be25860a34aeccc60b65c5c0165552d873f1e5da/Liao_membros/jos%C3%A9_henrrique.jpg" },
        { nome: "Laura Ferreira", curso: "Ciência da Computação", genero: "Feminino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/laura_perfil%20.png" },
        { nome: "Ulysses", curso: "Ciência e Tecnologia", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/ulisses.jpg" },
        { nome: "Djair Maykon de Novaes Miranda", curso: "Ciência da Computação", genero: "Masculino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/djair.jpg" },
        { nome: "Tarcisio de Assis Pereira Brito", curso: "Ciência da Computação", genero: "Masculino" ,img:"https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/4797004c77383a6d598af6a72fcce8454b2edac8/Liao_membros/tarcisio_perfil.jpg"},
        { nome: "Eduarda Almeida", curso: "Licenciatura da Computação", genero: "Feminino", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/eduarda%20almeida.jpg" },
         // Adicionados e Atualizados
        { nome: "Ícaro Iêne da Silva Dias", curso: "Ciência da Computação", genero: "Masculino", img: null }, // Curso atualizado
        { nome: "Malu Pinto de Brito", curso: "Ciência da Computação", genero: "Feminino", img: null } // Curso atualizado
    ];


    const dadosTutores = [
        { nome: "Prof. Dr. Islame Felipe da Costa Fernandes", email: "felipe.fernandes@ufba.br", area: "Otimização, Meta-heurísticas, Grafos, IA", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/ba4b6ec78d3c8ebc880863249e0ec9b2e9301770/Liao_membros/professo_islame.jpg" },
        { nome: "Prof. Dr. Marlo Vieira dos Santos e Souza", email: "marlo.viera@ufba.br", area: "IA, PLN, Semântica Formal, Comp. Teórica", img: "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/dd96f6e63abb6f3b7601010307e3573405a75723/Liao_membros/professor_malo_perfil.png"},
        { nome: "Prof. Franklin Lázaro Santos de Oliveira", email: "franklinoliveira40@gmail.com", area: "IA, Visão Computacional, EdgeAI, Otimização", img: null }
    ];

    const faqData = [
        {
            pergunta: "1. Participação de Membros Externos ao Instituto de Computação",
            resposta: "A princípio, a recomendação é priorizar a participação de estudantes do próprio Instituto de Computação (IC). No entanto, à medida que a Liga estiver mais consolidada, pretende-se permitir a inclusão de membros externos. Quanto a interessados fora da UFBA, por enquanto, tomamos a decisão de restringir apenas aos alunos com afiliação da UFBA.<br>A decisão sobre a participação de alunos de fora do IC nas atividades da Liga será tomada por votação em reunião.<br><strong>Importante:</strong> Membros de fora do IC não poderão compor a diretoria da Liga."
        },
        {
            pergunta: "2. Formação da Diretoria",
            resposta: "A diretoria é composta apenas por membros do Instituto de Computação. Esta formação é uma etapa essencial antes da elaboração oficial do estatuto da Liga."
        },
        {
            pergunta: "3. Formação do Estatuto",
            resposta: "Por recomendação, o estatuto será criado <strong>após</strong> a formalização da diretoria. Essa abordagem visa garantir uma base sólida e representativa antes de definir formalmente as diretrizes da Liga."
        },
        {
            pergunta: "4. Estrutura e Funções da Diretoria",
            resposta: `<strong>I. Direção Geral</strong><br> Função: Liderança máxima da Liga. Coordena, supervisiona e representa a Liga institucionalmente.<br> Tarefas: Convocar e presidir reuniões; Delegar funções; Garantir o cumprimento da missão e objetivos; Ser o principal ponto de contato com a coordenação do curso/instituição.<br><br> <strong>II. Secretaria Geral</strong><br> Função: Responsável pela parte administrativa e documental.<br> Tarefas: Redigir atas; Organizar e arquivar documentos; Controlar prazos e regulamentos internos; Gerenciar listas de presença, calendários e cronogramas.<br><br> <strong>III. Relações Públicas</strong><br> Função: Gerencia a comunicação interna e externa da Liga.<br> Tarefas: Administrar redes sociais, e-mails e materiais de divulgação; Promover eventos e atividades; Manter contato com outras ligas, empresas e instituições; Trabalhar na identidade visual da Liga.<br><br> <strong>IV. Coordenação Acadêmica</strong><br> Função: Responsável pelas atividades de ensino e aprendizagem.<br> Tarefas: Organizar cursos, oficinas, palestras e grupos de estudo; Garantir qualidade pedagógica; Acompanhar o desempenho acadêmico dos membros.<br><br> <strong>V. Coordenação Científica</strong><br> Função: Promove e orienta atividades de pesquisa.<br> Tarefas: Incentivar iniciação científica e produção de artigos; Organizar grupos voltados à pesquisa; Acompanhar projetos e submissões para eventos científicos.<br><br> <strong>VI. Coordenação de Extensão</strong><br> Função: Responsável pelas ações externas da Liga, promovendo o impacto social.<br> Tarefas: Planejar projetos com foco social (cursos abertos, visitas a escolas, voluntariado); Estabelecer parcerias externas; Avaliar os resultados das atividades de extensão.`
        },
        {
            pergunta: "5. Professores Tutores",
            resposta: `Alguns professores já demonstraram interesse e possuem perfis alinhados com as áreas da Liga:<br><br> <strong>Prof. Dr. Islame Felipe da Costa Fernandes</strong><br> Professor Adjunto A no Instituto de Computação (IC/DCC/UFBA). Doutor em Sistema e Computação (UFRN).<br> <em>Áreas de pesquisa:</em> Hibridização de meta-heurísticas, teoria dos grafos, otimização combinatória mono e multiobjetivo, algoritmos experimentais e inteligência de agentes.<br> <em>Status:</em> Cotado.<br><br> <strong>Prof. Dr. Marlo Vieira dos Santos e Souza</strong><br> Professor do Departamento de Computação Interdisciplinar da UFBA e do Programa de Pós-graduação em Computação da UFBA. Doutor em Computação (UFRGS).<br> <em>Áreas de atuação:</em> Computação Teórica, Inteligência Artificial, Processamento de Linguagem Natural, Semântica Formal e Representação de Conhecimento.<br> <em>Status:</em> Em contato.<br><br> <strong>Prof. Franklin Lázaro Santos de Oliveira</strong><br> <em>E-mail:</em> franklinoliveira40@gmail.com<br> <em>Áreas de atuação:</em> IA, Visão Computacional, EdgeAI, Otimização.<br> <em>Status:</em> Interessado.<br><br> Devido à abrangência dos temas abordados pela Liga, como Inteligência Artificial e Otimização, é provável que outros tutores possam ser envolvidos para atender às diferentes frentes.`
        },
        {
            pergunta: "6. Pautas Atuais",
            resposta: "Processo seletivo; Definição de outros cargos; Criação do estatuto."
        }
    ];

    // --- Dados para Avisos da Liga ---
    const dadosAvisosLiga = []; // Avisos removidos

    // --- Chart Instances ---
    let cursosMembrosChartInstance = null;
    let generoMembrosChartInstance = null;
    let membrosPorDiretoriaChartInstance = null;

    // --- Funções de Renderização ---

    // Mapeamento global de imagens para fácil acesso
    const memberImages = {
         "DEIVISNAN DA SILVA BISPO": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/f0f1fb1dcfaf7e881cd11f35d6882de77058efaf/Liao_membros/deivisnan.jpg",
         "Paulo Ferreira de Castro Filho": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/f0f1fb1dcfaf7e881cd11f35d6882de77058efaf/Liao_membros/paulo.jpg",
         "Thales Brito Rodrigues": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/f0f1fb1dcfaf7e881cd11f35d6882de77058efaf/Liao_membros/thales.jpg",
         "Priscila Conceição Araújo": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/f0f1fb1dcfaf7e881cd11f35d6882de77058efaf/Liao_membros/priscila.jpg",
         "Danielle Santos de Souza": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/e9105c3766c17ba2d0bc9f25e60604b7bb52f223/Liao_membros/danielle.jpg",
         "Yuri Freitas Hughes": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/908b4952aac861544264708280db41ecba067bd6/Liao_membros/yuri%20hughes.jpg",
         "Beatriz Pereira Espinheira": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/7d0dfea764e02c820fa20186c23b68aae03b763b/Liao_membros/beatriz.png",
         "Laura Ferreira": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/laura_perfil%20.png",
         "Lucca Oliveira Seixas": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/lucca%20seixas.png",
         "Eduarda Almeida": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/eduarda%20almeida.jpg",
         "Ulysses": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/ulisses.jpg",
         "Djair Maykon de Novaes Miranda": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/da3d98374e1554444da4e8d24e456c2b8009f59d/Liao_membros/djair.jpg",
         "Jaedson Barbosa Macedo": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/e9105c3766c17ba2d0bc9f25e60604b7bb52f223/Liao_membros/jaedson%20perfil%20.png",
         "José Henrique do Espírito Santo Santana": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/be25860a34aeccc60b65c5c0165552d873f1e5da/Liao_membros/jos%C3%A9_henrrique.jpg",
         "Tarcisio de Assis Pereira Brito": "https://raw.githubusercontent.com/Deivisnan/Pagina_da_liga_LIAO/4797004c77383a6d598af6a72fcce8454b2edac8/Liao_membros/tarcisio_perfil.jpg"
         // Ícaro e Malu usarão iniciais
    };

    function popularMembrosFundadores() {
        const container = document.getElementById('membros-content-wrapper');
        if (!container) return;

        let content = `
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800">Diretoria Atual da LIAO</h2>
                <p class="mt-2 text-lg text-gray-600">Conheça a equipe que lidera a gestão atual da nossa liga acadêmica.</p>
            </div>
            <div id="directors-container" class="mb-16">
                 <!-- Desktop Grid -->
                <div class="hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                    ${dadosDiretoriaAprovada.map(diretor => {
                        const membroCorrespondente = dadosMembros.find(m => m.nome === diretor.nome);
                        const imageUrl = membroCorrespondente?.img || memberImages[diretor.nome]; // Usa img do membro se houver
                        let avatarHtml;

                        if (imageUrl) {
                            avatarHtml = `<img src="${imageUrl}" alt="Foto de ${diretor.nome}" class="w-full h-full object-cover">`;
                        } else {
                            const iniciais = diretor.nome.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase();
                            avatarHtml = `<span>${iniciais}</span>`;
                        }

                        return `
                            <div class="director-card">
                                <div class="director-card-inner">
                                    <div class="director-info">
                                        <div class="director-avatar">${avatarHtml}</div>
                                        <h3 class="director-name">${diretor.nome}</h3>
                                        <p class="director-title">${diretor.cargo}</p>
                                    </div>
                                    <button onclick="showDirectorAbout('${diretor.nome}')" class="director-button">
                                        Sobre
                                    </button>
                                </div>
                            </div>
                        `;
                    }).join('')}
                </div>
                 <!-- Mobile Carousel -->
                <div class="md:hidden carousel-container overflow-hidden">
                    <div class="carousel-wrapper flex">
                        ${dadosDiretoriaAprovada.map(diretor => {
                            const membroCorrespondente = dadosMembros.find(m => m.nome === diretor.nome);
                            const imageUrl = membroCorrespondente?.img || memberImages[diretor.nome];
                            let avatarHtml;

                            if (imageUrl) {
                                avatarHtml = `<img src="${imageUrl}" alt="Foto de ${diretor.nome}" class="w-full h-full object-cover">`;
                            } else {
                                const iniciais = diretor.nome.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase();
                                avatarHtml = `<span>${iniciais}</span>`;
                            }

                            return `
                                <div class="carousel-slide p-2">
                                     <div class="director-card">
                                         <div class="director-card-inner">
                                             <div class="director-info">
                                                 <div class="director-avatar">${avatarHtml}</div>
                                                 <h3 class="director-name">${diretor.nome}</h3>
                                                 <p class="director-title">${diretor.cargo}</p>
                                             </div>
                                             <button onclick="showDirectorAbout('${diretor.nome}')" class="director-button">
                                                Sobre
                                             </button>
                                         </div>
                                     </div>
                                </div>`;
                        }).join('')}
                    </div>
                </div>
            </div>`;

        content += `
            <div class="founder-list-card">
                 <h3 class="text-2xl font-bold text-gray-800 text-center mb-6">Membros Fundadores</h3>
                 <div id="founders-container">
                     <!-- Desktop Grid -->
                    <div class="hidden md:grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4">
                        ${dadosMembrosFundadores.sort((a,b) => a.nome.localeCompare(b.nome)).map(membro => {
                            const imageUrl = membro.img || memberImages[membro.nome]; // Usa img do objeto se existir, senão busca no map
                            let avatarHtml;
                            if (imageUrl) {
                                avatarHtml = `<img src="${imageUrl}" alt="Foto de ${membro.nome}" class="w-full h-full object-cover">`;
                            } else {
                                const iniciais = membro.nome.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase();
                                avatarHtml = `<span>${iniciais}</span>`;
                            }
                            return `
                                <div class="founder-item" onclick="showFounderDetails('${membro.nome}')">
                                    <div class="founder-item-avatar">${avatarHtml}</div>
                                    <span>${membro.nome}</span>
                                </div>
                            `;
                        }).join('')}
                    </div>
                    <!-- Mobile Carousel -->
                    <div class="md:hidden carousel-container overflow-hidden">
                      <div class="carousel-wrapper flex">
                        ${(() => {
                          const chunkSize = 3;
                          const membrosOrdenados = dadosMembrosFundadores.sort((a, b) => a.nome.localeCompare(b.nome));
                          const slides = [];

                          for (let i = 0; i < membrosOrdenados.length; i += chunkSize) {
                            const grupo = membrosOrdenados.slice(i, i + chunkSize).map(membro => {
                              const imageUrl = membro.img || memberImages[membro.nome];
                              let avatarHtml;
                              if (imageUrl) {
                                avatarHtml = `<img src="${imageUrl}" alt="Foto de ${membro.nome}" class="w-full h-full object-cover">`;
                              } else {
                                const iniciais = membro.nome.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase();
                                avatarHtml = `<span>${iniciais}</span>`;
                              }
                              return `
                                <div class="founder-item mb-4 w-[263px]" onclick="showFounderDetails('${membro.nome}')">
                                  <div class="founder-item-avatar">${avatarHtml}</div>
                                  <span>${membro.nome}</span>
                                </div>`;
                            }).join('');
                            slides.push(`<div class="carousel-slide flex flex-col items-center min-w-full">${grupo}</div>`);
                          }

                          return slides.join('');
                        })()}
                      </div>
                    </div>
                </div>
            </div>`;
        container.innerHTML = content;

        setupCarousel('#directors-container .carousel-container', 1);
        setupCarousel('#founders-container .carousel-container', 1);
    }

    function showFounderDetails(memberName) {
        const member = dadosMembrosFundadores.find(m => m.nome === memberName);
        if (!member) return;

        const modal = document.getElementById('founderModal');
        const avatarEl = document.getElementById('modalFounderAvatar'); // ID atualizado
        const nameEl = document.getElementById('modalFounderName');    // ID atualizado
        const courseEl = document.getElementById('modalFounderCourse'); // ID atualizado

        const imageUrl = member.img || memberImages[member.nome];

        if (imageUrl) {
            avatarEl.innerHTML = `<img src="${imageUrl}" alt="Foto de ${member.nome}" class="w-full h-full object-cover">`;
        } else {
            const iniciais = member.nome.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase();
            avatarEl.innerHTML = `<span>${iniciais}</span>`;
        }

        nameEl.textContent = member.nome;
        courseEl.textContent = member.curso;

        modal.classList.add('active');
    }

    function hideFounderDetails() {
        document.getElementById('founderModal').classList.remove('active');
    }

    // Função para mostrar modal 'Sobre' do Diretor
    function showDirectorAbout(directorName) {
        const director = dadosDiretoriaAprovada.find(d => d.nome === directorName);
        if (!director) return;

        const modal = document.getElementById('directorAboutModal');
        const avatarEl = document.getElementById('modalDirectorAvatar');
        const nameEl = document.getElementById('modalDirectorName');
        const cargoEl = document.getElementById('modalDirectorCargo');
        const aboutContentEl = document.getElementById('modalAboutContent');

        const membroCorrespondente = dadosMembros.find(m => m.nome === director.nome);
        const imageUrl = membroCorrespondente?.img || memberImages[director.nome];

        if (imageUrl) {
            avatarEl.innerHTML = `<img src="${imageUrl}" alt="Foto de ${director.nome}" class="w-full h-full object-cover">`;
        } else {
            const iniciais = director.nome.split(' ').map(n => n[0]).join('').substring(0, 2).toUpperCase();
            avatarEl.innerHTML = `<span>${iniciais}</span>`;
        }

        nameEl.textContent = director.nome;
        cargoEl.textContent = director.cargo;
        aboutContentEl.innerHTML = director.sobre || '<p>Informações sobre este diretor ainda não disponíveis.</p>'; // Fallback

        modal.classList.add('active');
    }

    // Função para esconder modal 'Sobre' do Diretor
    function hideDirectorAbout() {
        document.getElementById('directorAboutModal').classList.remove('active');
    }


    function popularTabelaTutores() {
        const container = document.getElementById('tutores-content-wrapper');
        if(!container) return;

        let content = `
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-gray-800">Professores Tutores</h2>
                <p class="mt-2 text-lg text-gray-600">Conheça os professores que apoiam e orientam nossa liga.</p>
            </div>
            <div id="tutors-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        `;

        dadosTutores.forEach(tutor => {
             let avatarHtml;
             if (tutor.img) {
                 avatarHtml = `<img src="${tutor.img}" alt="Foto de ${tutor.nome}" class="w-full h-full object-cover">`;
             } else {
                 const nameParts = tutor.nome.split(' ');
                 const initials = (nameParts.length > 2 ? nameParts.slice(1, 3) : nameParts.slice(0, 2)).map(n => n[0]).join('').toUpperCase();
                 avatarHtml = `<span>${initials}</span>`;
             }

             content += `
                <div class="tutor-card">
                     <div class="tutor-avatar">${avatarHtml}</div>
                     <h3 class="tutor-name">${tutor.nome}</h3>
                     <p class="tutor-email"><i class="fas fa-envelope"></i> ${tutor.email}</p>
                     <div class="tutor-area">
                         <strong>Áreas de Especialidade:</strong><br>
                         ${tutor.area}
                     </div>
                </div>
             `;
        });

        content += '</div>';
        container.innerHTML = content;

        const totalTutoresEl = document.getElementById('totalTutoresInteressados');
        if(totalTutoresEl) totalTutoresEl.textContent = dadosTutores.length;
    }

    function popularFAQs() {
        const container = document.getElementById('faqContent');
        if (!container) return;
        container.innerHTML = '';
        faqData.forEach(item => {
            const div = document.createElement('div');
            div.className = 'p-4 bg-gray-50 rounded-lg shadow-sm';
            const h3 = document.createElement('h3');
            h3.className = 'text-lg font-semibold text-indigo-700 mb-2';
            h3.textContent = item.pergunta;
            const p = document.createElement('p');
            p.className = 'text-gray-700 leading-relaxed';
            p.innerHTML = item.resposta;
            div.appendChild(h3);
            div.appendChild(p);
            container.appendChild(div);
        });
        const totalFaqEl = document.getElementById('totalPerguntasFrequentes');
        if(totalFaqEl) totalFaqEl.textContent = faqData.length;
    }

    function popularAvisosLiga() {
        const container = document.getElementById('avisosLigaContent');
        if (!container) return;
        container.innerHTML = '<p class="text-gray-500 text-center py-4">Em breve teremos avisos!</p>'; // Mensagem placeholder
    }

    // Removida função mostrarProposta

    function criarGraficoCursosMembros() {
        const ctx = document.getElementById('cursosMembrosChart')?.getContext('2d');
        if (!ctx) return;

        const contagemCursos = dadosMembros.reduce((acc, item) => {
            const curso = item.curso || "Não informado";
            acc[curso] = (acc[curso] || 0) + 1;
            return acc;
        }, {});

        if (cursosMembrosChartInstance) {
            cursosMembrosChartInstance.destroy();
        }

        cursosMembrosChartInstance = new Chart(ctx, {
            type: 'pie',
            data: {
                labels: Object.keys(contagemCursos),
                datasets: [{
                    label: 'Distribuição por Curso',
                    data: Object.values(contagemCursos),
                    backgroundColor: [
                        'rgba(79, 70, 229, 0.8)', // Indigo
                        'rgba(5, 150, 105, 0.8)',  // Emerald
                        'rgba(217, 119, 6, 0.8)', // Amber
                        'rgba(220, 38, 38, 0.8)',  // Red
                        'rgba(147, 51, 234, 0.8)',// Purple
                        'rgba(107, 114, 128, 0.8)',// Gray
                        'rgba(59, 130, 246, 0.8)' // Blue
                    ],
                    borderColor: 'white',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                    }
                }
            }
        });
    }

    function criarGraficoGeneroMembros() {
        const ctx = document.getElementById('generoMembrosChart')?.getContext('2d');
        if (!ctx) return;

        const contagemGenero = dadosMembros.reduce((acc, item) => {
             const genero = item.genero || "Não informado";
            acc[genero] = (acc[genero] || 0) + 1;
            return acc;
        }, {});

        const labels = Object.keys(contagemGenero).sort((a, b) => {
            if (a === 'Feminino') return -1;
            if (b === 'Feminino') return 1;
            if (a === 'Masculino') return -1;
            if (b === 'Masculino') return 1;
            return a.localeCompare(b);
        });
        const data = labels.map(label => contagemGenero[label]);

        const colors = labels.map(label => {
            if (label === 'Feminino') return 'rgba(236, 72, 153, 0.8)'; // Rosa
            if (label === 'Masculino') return 'rgba(37, 99, 235, 0.8)'; // Azul
            return 'rgba(107, 114, 128, 0.8)'; // Cinza
        });

        if (generoMembrosChartInstance) {
            generoMembrosChartInstance.destroy();
        }

        generoMembrosChartInstance = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Distribuição de Gênero',
                    data: data,
                    backgroundColor: colors,
                    borderColor: 'white',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                    }
                }
            }
        });
    }

    function criarGraficoMembrosPorDiretoria() {
        const ctx = document.getElementById('membrosPorDiretoriaChart')?.getContext('2d');
        if(!ctx) return;

        const diretorias = dadosDiretoriaAprovada.map(d => {
            if (d.cargo === 'Coordenação Acadêmica') return 'Coord. Acadêmica';
            if (d.cargo === 'Coordenação Científica') return 'Coord. Científica';
            if (d.cargo === 'Coordenação de Extensão') return 'Coord. de Extensão';
            return d.cargo;
        });
        const data = Array(diretorias.length).fill(1);

        if (membrosPorDiretoriaChartInstance) {
            membrosPorDiretoriaChartInstance.destroy();
        }

        membrosPorDiretoriaChartInstance = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: diretorias,
                datasets: [{
                    label: 'Estrutura da Diretoria',
                    data: data,
                    backgroundColor: 'rgba(79, 70, 229, 0.7)',
                    borderColor: 'rgba(79, 70, 229, 1)',
                    borderWidth: 1,
                    borderRadius: 5,
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { beginAtZero: true, ticks: { display: false }, grid: { display: false } },
                    y: { grid: { display: false } }
                },
                plugins: { legend: { display: false }, tooltip: { enabled: false } }
            }
        });
    }

    function popularDashboard() {
        const totalMembrosEl = document.getElementById('totalMembros');
        if (totalMembrosEl) totalMembrosEl.textContent = dadosMembros.length;

        const totalTutoresEl = document.getElementById('totalTutoresInteressados');
        if(totalTutoresEl) totalTutoresEl.textContent = dadosTutores.length;
        const totalFaqEl = document.getElementById('totalPerguntasFrequentes');
        if(totalFaqEl) totalFaqEl.textContent = faqData.length;

        setTimeout(() => {
            criarGraficoCursosMembros();
            criarGraficoGeneroMembros();
            criarGraficoMembrosPorDiretoria();
        }, 50); // Aumentado ligeiramente o timeout
    }

    // --- Navegação e Estado ---
    let currentPage = 'dashboard';
    let historyStack = ['dashboard'];

    function showPage(pageId, fromHistory = false) {
        if (pageId === currentPage && !fromHistory) return; // Evita recarregar a mesma página

        // --- Gerenciamento do Histórico ---
        if (!fromHistory) {
            // Só adiciona ao histórico se não for a mesma página que a última no histórico
            // (evita duplicatas ao clicar rápido ou voltar e ir para a mesma página)
            if (historyStack.length === 0 || historyStack[historyStack.length - 1] !== currentPage) {
                 historyStack.push(currentPage);
            }
        } else if (historyStack.length === 0 && pageId !== 'dashboard') {
             // Se voltando do histórico e ele está vazio (ex: refresh), garante que dashboard está na base
             historyStack.push('dashboard');
        }

        // --- Atualização da UI ---
        document.querySelectorAll('.content-section').forEach(section => section.classList.remove('active'));
        const activePage = document.getElementById(pageId);
        if (activePage) {
            activePage.classList.add('active');
        }

        currentPage = pageId;

        // Atualiza link ativo na navegação desktop
        document.querySelectorAll('.navigation-list li').forEach(item => {
            const link = item.querySelector('a');
            if (link) {
                const pageNameAttr = link.getAttribute('onclick');
                if (pageNameAttr && pageNameAttr.includes(`showPage('${pageId}'`)) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            }
        });

         // Fecha o menu mobile se estiver aberto
        closeMenu();

        // --- Popula conteúdo dinâmico ---
        switch (pageId) {
            case 'dashboard': popularDashboard(); break;
            case 'membrosFundadores': popularMembrosFundadores(); break;
            case 'tutores': popularTabelaTutores(); break;
            case 'faq': popularFAQs(); break;
            case 'avisosLiga': popularAvisosLiga(); break;
            // 'prossel', 'videoApresentacao' não precisam de população aqui
        }

        // --- Lógica de Scroll AJUSTADA ---
        // Rola para o topo SOMENTE se o destino for o dashboard E não veio do histórico.
        // Ou seja, clicar no link/logo do Dashboard rola para o topo.
        // Trocar entre outras abas ou usar o botão Voltar NÃO rola para o topo.
        if (pageId === 'dashboard' && !fromHistory) {
             window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        // Removemos o scroll-to-top condicionado por `fromHistory`

        // --- Reset do Histórico ---
        // Reseta o histórico somente se voltamos explicitamente para o dashboard (não via goBack)
        if (pageId === 'dashboard' && !fromHistory) {
             historyStack = ['dashboard'];
        }
    }

    function goBack() {
        // Se a página atual for a página de detalhes, apenas fecha o modal correspondente
        if (document.getElementById('directorAboutModal').classList.contains('active')) {
            hideDirectorAbout();
            return; // Impede que a navegação da página ocorra
        }
         if (document.getElementById('founderModal').classList.contains('active')) {
             hideFounderDetails();
             return; // Impede que a navegação da página ocorra
         }

        // Comportamento original de voltar na pilha de histórico
        if (historyStack.length > 0) {
            const lastPage = historyStack.pop();
            if (lastPage && lastPage !== currentPage) { // Evita voltar para a mesma página
                showPage(lastPage, true); // Mostra a página anterior, indicando que é do histórico
            } else if (historyStack.length > 0) {
                 // Se a última página era a mesma, tenta a anterior
                 const secondLastPage = historyStack.pop();
                 if (secondLastPage) {
                     showPage(secondLastPage, true);
                 }
            } else if (currentPage !== 'dashboard') {
                 // Se o histórico esvaziou e não estamos no dashboard, vai para o dashboard
                 showPage('dashboard', true);
            }
        } else if (currentPage !== 'dashboard') {
            // Se o histórico já estava vazio e não estamos no dashboard, vai para o dashboard
            showPage('dashboard', true);
        }
         // Se já está no dashboard e o histórico está vazio, não faz nada
    }


    function setupCarousel(carouselSelector, slidesPerViewMobile = 1) {
        // ... (código do carrossel permanece o mesmo) ...
        const container = document.querySelector(carouselSelector);
        if (!container) return;

        const wrapper = container.querySelector('.carousel-wrapper');
        if (!wrapper) return;

        const slides = Array.from(wrapper.children);
         if (slides.length === 0) return; // Adicionado para evitar erro se não houver slides


         // Desativa carrossel se não houver slides suficientes para rolar
        if (slides.length <= slidesPerViewMobile && window.innerWidth < 768) {
             // console.log(`Carousel ${carouselSelector} disabled: Not enough slides for mobile view.`);
             // Pode adicionar estilos para mostrar todos se desativado, se necessário
             return;
        }

        let currentIndex = 0;
        let intervalId = null;
        let isDragging = false;
        let startPos = 0;
        let currentTranslate = 0;
        let prevTranslate = 0;
        let animationID;

        // Ajuste: Calcula o número real de "páginas" no carrossel
        const getTotalPages = () => {
             if (window.innerWidth >= 768 || slides.length === 0) return 1; // Desktop ou sem slides
            // Considera que a última "página" pode ter menos itens
             // return Math.ceil(slides.length / slidesPerViewMobile); // Se for slide por slide
             return Math.max(1, slides.length - slidesPerViewMobile + 1); // Se for item a item
        };

        const getValidIndex = (index) => {
            const totalPages = getTotalPages();
            if (totalPages <= 1) return 0;
             // Garante que o índice esteja dentro dos limites [0, totalPages - 1]
            return Math.max(0, Math.min(index, totalPages - 1));
        };


        const updateCarousel = (animate = true) => {
             const isMobile = window.innerWidth < 768;
             const totalPages = getTotalPages(); // Recalcula a cada update

             if (!isMobile || totalPages <= 1) { // Desativa no desktop ou se não há páginas suficientes
                 wrapper.style.transform = '';
                 wrapper.style.transition = 'none';
                 slides.forEach(s => s.style.minWidth = '');
                 if (intervalId) clearInterval(intervalId);
                 intervalId = null;
                 wrapper.style.cursor = 'default'; // Cursor padrão no desktop
                 return;
             }

             // Mobile: ativa carrossel
             const slideWidth = container.clientWidth / slidesPerViewMobile;
             slides.forEach(slide => {
                 slide.style.minWidth = `${100 / slidesPerViewMobile}%`; // Garante a largura correta
             });

             // Calcula o deslocamento correto, limitando ao último slide/página
             const maxTranslate = 0;
             // O deslocamento mínimo é para mostrar a última página completa
             const minTranslate = - (totalPages - 1) * slideWidth;
             // Garante que currentIndex esteja dentro dos limites válidos ANTES de calcular o translate
             currentIndex = getValidIndex(currentIndex);
             currentTranslate = Math.max(minTranslate, Math.min(maxTranslate, -currentIndex * slideWidth));
             prevTranslate = currentTranslate; // Sincroniza prevTranslate

             wrapper.style.transition = animate ? 'transform 0.5s ease-in-out' : 'none';
             wrapper.style.transform = `translateX(${currentTranslate}px)`;
             wrapper.style.cursor = 'grab'; // Cursor grab no mobile

             // Reinicia o intervalo apenas se estava inativo e agora deve estar ativo
             if (!intervalId && isMobile && totalPages > 1) {
                 resetInterval();
             } else if (intervalId && (!isMobile || totalPages <= 1)) {
                 // Para o intervalo se mudou para desktop ou não há mais páginas
                  if (intervalId) clearInterval(intervalId);
                  intervalId = null;
             }
        };


        const resetInterval = () => {
             if (intervalId) clearInterval(intervalId);
             intervalId = null;
             const isMobile = window.innerWidth < 768;
             const totalPages = getTotalPages();

             if (!isMobile || totalPages <= 1) {
                return; // Não inicia autoplay no desktop ou se não há slides/páginas suficientes
             }

            intervalId = setInterval(() => {
                let nextIndex = currentIndex + 1;
                // Loop: Se chegou ao fim, volta para o início
                if (nextIndex >= totalPages) {
                    nextIndex = 0;
                }
                currentIndex = nextIndex;
                updateCarousel();
            }, 5000); // Intervalo de 5 segundos
        };

        const touchStart = (e) => { // Não precisa mais do index aqui
            const isMobile = window.innerWidth < 768;
            if (!isMobile || getTotalPages() <= 1) return; // Só permite drag no mobile e se houver mais de uma página

            startPos = e.type.includes('mouse') ? e.pageX : e.touches[0].clientX;
            isDragging = true;
            animationID = requestAnimationFrame(animation);
            wrapper.style.cursor = 'grabbing';
            if (intervalId) clearInterval(intervalId);
            intervalId = null;
            wrapper.style.transition = 'none'; // Garante que não haja transição durante o drag inicial
        };

        const touchMove = (e) => {
            if (!isDragging) return; // Só executa se estiver arrastando
             const isMobile = window.innerWidth < 768;
            if (!isMobile) { // Se redimensionou para desktop durante o drag, cancela
                 touchEnd(); // Finaliza o drag
                 return;
            }

            const currentPosition = e.type.includes('mouse') ? e.pageX : e.touches[0].clientX;
            currentTranslate = prevTranslate + currentPosition - startPos;

            // Aplica o translate imediatamente (sem esperar o animation frame) para responsividade
             wrapper.style.transform = `translateX(${currentTranslate}px)`;

        };

        const touchEnd = () => {
            if (!isDragging) return; // Só executa se estava arrastando
            cancelAnimationFrame(animationID);
            isDragging = false;
            const movedBy = currentTranslate - prevTranslate;
            const slideWidth = container.clientWidth / slidesPerViewMobile;
            const totalPages = getTotalPages();

             // Decide se deve mudar de página (threshold de 1/5 da largura do slide)
             // Swipe para esquerda (próximo)
            if (movedBy < -slideWidth / 5 && currentIndex < totalPages - 1) {
                currentIndex++;
            }
             // Swipe para direita (anterior)
            if (movedBy > slideWidth / 5 && currentIndex > 0) {
                currentIndex--;
            }

            // Garante que o índice é válido após o swipe
            currentIndex = getValidIndex(currentIndex);

            updateCarousel(); // Volta para a posição correta com animação
            wrapper.style.cursor = 'grab';
            resetInterval(); // Reinicia o auto-play
        };

        // Animação suave durante o arraste (opcional, pode ser removido se o touchMove direto for suficiente)
        const animation = () => {
            // Se precisar de interpolação ou efeitos durante o drag, adicione aqui
             // No momento, o touchMove atualiza diretamente o transform
             // if (isDragging) requestAnimationFrame(animation); // Descomente se usar interpolação
        };

        // --- Adiciona Event Listeners ---
        wrapper.addEventListener('touchstart', touchStart, { passive: true }); // Use passive para melhor performance de scroll
        wrapper.addEventListener('touchend', touchEnd);
        wrapper.addEventListener('touchmove', touchMove, { passive: true }); // Use passive

        wrapper.addEventListener('mousedown', touchStart);
        wrapper.addEventListener('mouseup', touchEnd);
        wrapper.addEventListener('mouseleave', touchEnd); // Finaliza se o mouse sair
        wrapper.addEventListener('mousemove', touchMove);

        // Previne seleção de texto durante o arraste com mouse
        container.addEventListener('selectstart', (e) => {
            if (isDragging) e.preventDefault();
        });


        // Evento de redimensionamento
        window.addEventListener('resize', () => {
            const wasMobile = wrapper.style.transform !== ''; // Verifica se estava ativo
            const isMobile = window.innerWidth < 768;
            const totalPages = getTotalPages(); // Recalcula

            const needsUpdate = (isMobile && totalPages > 1) || (!isMobile && wasMobile);

            if (needsUpdate) {
                 // console.log(`Resize triggered update for ${carouselSelector}. Mobile: ${isMobile}, Pages: ${totalPages}`);
                 currentIndex = 0; // Reseta sempre no resize para evitar posições quebradas
                 updateCarousel(false); // Atualiza imediatamente sem animar
                 resetInterval(); // Reinicia ou para o intervalo conforme necessário
             }
        });

         // Inicialização
        updateCarousel(false); // Chamada inicial sem animação
        resetInterval();
    }


    document.addEventListener('DOMContentLoaded', () => {
        // --- Mobile Menu Logic ---
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const menuIcon = document.getElementById('menu-icon');

        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            const isMenuHidden = mobileMenu.classList.contains('hidden');
            menuIcon.classList.toggle('fa-bars', isMenuHidden);
            menuIcon.classList.toggle('fa-times', !isMenuHidden);
        });

        // Torna closeMenu global
        window.closeMenu = function() {
            mobileMenu.classList.add('hidden');
            menuIcon.classList.remove('fa-times');
            menuIcon.classList.add('fa-bars');
        };

        // --- Initial Content Load ---
        popularDashboard();
        popularFAQs();
        popularAvisosLiga();
        // As outras seções serão populadas quando ativadas pelo showPage

        document.getElementById('currentYear').textContent = new Date().getFullYear();
    });

</script>
</body>
</html>

